<main class="container">

  <section class="card">
    <div class="card-header">
      <span class="flex-start">
        Discentes
        <%= link_to '+', new_discente_path, class: 'add-button' %>
      </span>
      <%= notice %>
    </div>
    
    <table>
      <thead>
        <tr>
          <th>Nome</th>
          <th>GRR</th>
          <th>CPF</th>
          <th>Ações</th>
        </tr>
      </thead>

      <tbody>
        <% @discentes.each do |discente| %>
          <tr>
            <td><%= discente.nome %></td>
            <td>
              <% if discente.identidade.blank? or discente.identidade.grr.blank? %>
                Não possui
              <% else %>
                <%= discente.identidade.grr %>
              <% end %>
            </td>
            <td>
              <% if discente.identidade.blank? or discente.identidade.cpf.blank? %>
                Não possui
              <% else %>
                <%= discente.identidade.formatted_cpf %>
              <% end %>
            </td>
            <td class="buttons-container">
              <%=
                link_to 'Visualizar',
                discente,
                class: "view-button"
              %>
              <%=
                link_to 'Editar',
                edit_discente_path(discente),
                class: 'edit-button'
              %>
              <%= 
                link_to 'Excluir',
                discente,
                method: :delete,
                data: { confirm: 'Tem certeza que quer deletar este registro?' },
                class: 'delete-button'
              %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>

  </section>

</main>
